# DER_tester （DER動作確認支援ツール）
Tester to control various distributed energy resources (DERs) for DER service builders.

DER動作確認支援ツールとは、「需要側電力システム研究会」の「ドライバーWG」での検討を通じて開発した、DERへの遠方操作指令に対する通信応答と、DERの実動作の差異の検出を支援するツールです。
スマートホーム規格の ECHONET Lite 等に対応している蓄電池やエコキュート、エアコンやV2HなどのDERは、製造元メーカーによらず、同一のフォーマットで遠方操作の指令を指示することができます。他方で、遠方操作要求に対するDERのICT応答と、DERの実動作に差異が生じる場合があります。差異の発生箇所はDER機器・メーカー・ファームウェアバージョンごとに異なることが考えられ，この差異の把握が課題になると考えました。本ツールは，DER機器のどの操作で差異が発生するのかの容易な把握を支援します。

## できること
ECHONET Lite に対応したDERに対して、ECHONET Lite経由のプロパティの設定（SET）、モニタ（GET）を実行できます。例えば、蓄電池の運転モードの切り替え設定や充電電力設定値のモニタなどが可能です。本ツールを用いることで、環境構築の手間を最小限にしてDERの動作確認・差異の検出を実施可能です。

本ツールは下図のとおり、ECHONET Lite 規格の通信に対応した、外部サービスのAPIを実行します。そのため、ご利用には対象サービスのAPIを利用いただく必要があります。2024年3月14日現在、本ツールは以下のAPIサービスの実行に対応しています。

-	IoT-HUB API
-	Nature Remo E Cloud API

## How to Use
1. 本ツールで利用するAPIを選択してください
2. 本レポジトリをフォーク、あるいはクローンしてください
  - `git clone git@github.com:takuroumi/der_tester.git` 等
3. 実行環境の用意。Python 3 をインストールしてください
4. APIアクセスキーを取得してください（利用するAPIの管理者へお問い合わせください）
4. 本ツールを実行してください
  - `tools/scripts` から必要なバッチファイルを実行してください。各ファイルの説明は、各ディレクトリのReadme.mdをご確認ください。

　また、「需要側電力システム研究会」では、DERのICT応答と、DERの実動作に差異が生じる具体例を整理し、DER活用を検討されている方に「共有知」として公開したく考えております。具体例をあらたに発見した場合は、ぜひGitHub上のissueに共有いただき、「共有知化」にご協力ください。

## 免責
- DER動作確認支援ツールは、IoT-HUBやHEMS APIを経由してDER機器の操作を実施します。各APIは、各APIの管理者との同意の上でご利用ください。本レポジトリは、各APIに関する情報を現状有姿で提供するものであり、APIに関する情報またはライセンスについては何らの保証もせず、かかるライセンス情報の利用に起因する損害について、本レポジトリの管理者は責任を負いません。 
- DERの動作は、製造元メーカー、機種、あるいはファームウェアバージョン等により異なることが想定されます。動作確認の際は、各DER機器の挙動を目視で確認することを推奨いたします。本ツールの利用に起因する損害について、本レポジトリの管理者は責任を負いません。 


## 参考文献
-	海原拓朗，今中政輝，馬場博幸，「DER機器の遠方操作における通信応答と実動作の差異検出支援システムの開発」，電気学会2024年全国大会，4-216，2024.3
